---
title: "2025-09-25"
output: html_document
date: "2025-09-25"
---
---
title: "Foundations in R pt 2"
author: "Amanda Mae Woodward"
date: "2025-09-23"
output: html_document
---

# Learning Outcomes: 

After Today's Lecture, you should be able to do the following: 

- Describe how to use helpful dataframe functions
- Explain different classes of variables and how to change the class
- Create your own function 
- Create your own for loop
- Create your own if statements and ifelse statements

## Learning Outcome #1: Describing how to use helpful dataframe functions

We'll keep talking about dataframes throughout the semester, but there are some helpful functions we didn't cover last time. 

### Viewing dataframe column names

Last time, we talked about how you can compute descriptive statistics on specific variables by using `dataframe$name`. what do you do if you don't remember the name of a variable? 

```{r}
library(palmerpenguins)
data("penguins")
```


You could print the dataframe repeatedly, but it's tedious. Here are some functions you can use to find the column names:
```{r}

```

We'll use diamonds to learn about: `colnames()`, `names()`, and 0 row
```{r}
#code = colnames(data) -- gives you all the column names 
#code = colnames(data)[RowOfInterst] -- gives you the name of the row you're interested in 
colnames(penguins)
names(penguins)
colnames(penguins[3])
```

### editing column names 
`colnames()` returns all of the column names in a vector. So we can get column names using indexing as well. 
```{r}
colnames(penguins)[3]<- "billLengthMm"
```

It **also** means that you can change names if necessary (when we talk about dataframe manipulation next week, this can become important.)
`colnames(data)[position]`
```{r}
colnames(penguins)[3]<- "BillLenghtMm"
colnames(penguins)[4:6]<- c("BillDepthMm", "FlipperLengthMm", "BodyMassG")
```

More often than not, we're using datasets that we either created or received from collaborators. That means that you may be dealing with problems **past you** graciously left you, different naming conventions, or even needing to manipulate variables that combine information. We'll talk about how to fix some of the more involved ones next week. For now, ones that may be helpful are making sure your column names are all lower case or all upper case. You can do this with the `toupper()` and `tolower()` functions:

```{r}
#code = toupper(colnames(data))
toupper(colnames(penguins))
```

```{r}
#code = tolower(colnames(data))
tolower(colnames(penguins))
```

### Adding Column Names
If you need to add a column to the dataset, you need to use the assignment arrow (carrot) and the $. 
dataframe$newColumn<- whatever you're assigning

For instance, if you want to add a blank column:
```{r}
#code = data$NewVariable<- "Assignment"
#code = data$NewVariable<- number
penguins$AmandaFavorite<- NA
penguins$AmandaFavorite<- "Yes" 
penguins$HighJump<- 10
```
Then you can fill it with whatever information you want. 
```{r}
#code = data$NewVariable<- sample(bottom threshold number: top threshold number, number of rows, replace - TRUE) -- allows you to add new info to the varaible
#code = data$NewVariable[data$VaribleOfInterest == "Sub variable of interest]<- value -- allows you to put the value for a subset of a variable, like the jump height for just chinstrap penguins 
penguins$HighJump<- sample(1:45, 344, replace = TRUE)
penguins$HighJump[penguins$species=="Chinstrap"]<- 10
```
or you can fill the new column in based on other data in the dataframe 
```{r}

```
can do math to fill in the columns
```{r}
#code = data$NewVariable<- Variable1 mathFunction Variable2
penguins$billInfo<- penguins$BillLenghtMm + penguins$BillDepthMm
library(tidyverse)
penguins %>% select(BillLenghtMm, BillDepthMm, billInfo)
```

#### Learning Outcome 1 Practice: 

1. Change all of the column names in mtcars to capital letters
```{r}
data(mtcars)
toupper(colnames(mtcars))
```
2. Change the name of the 9th column to reflect the values in the am column description
```{r}
colnames(mtcars)[9]<- "transmission"
```

3. Change the 4th column name to all lowercase letters 
```{r}
tolower(colnames(mtcars [4]))
```

```{r}
tolower(colnames(mtcars)
```

## Learning Outcome 2: Explain different classes of variables and how to change the class

We talked about this a little bit last week, but there are different classes (types) of objects in R. As we move forward, the specific class of an object will be important. 

### Different classes in R:

- *character:* strings, words; typically labels 
- *factors:* can be words or numbers; categories (gender, race, age groups)
- *ordered factor:* ordinal level data
- *integers:* whole numbers
- *numeric:* continuous numbers 
- *dates:* dates
- *empty values:* NA
-*logical* results of a logical statement

You can check the class of your data using `class()`
```{r}
#class(daat)
class(mtcars)
```

If you want to change the class of your variable, you can assign `as.Preferredclass(dataframe$column)` to the column name

```{r}
"is.classname"
is.factor(mtcars$transmission)

"as.classname"
mtcars$transmission<- as.factor(mtcars$transmission)
mtcars$transmission

#make a new column 

```
**DOUBLE CHECK YOUR DATA**
```{r}
mtcars$transmission2<- as.numeric(mtcars$transmission)
mtcars$transmission2
mtcars %>% select(transmission, transmission2)

#to not mix things up
mtcars$transmission3<-
  as.numeric(levels(mtcars$transmission)[mtcars$transmission])
mtcars %>% select(transmission, transmission3)
```

### Learning Outcome 2 Practice:
1. Check the class of the horsepower column (hp) 
```{r}
is.factor(mtcars$hp)
#Or
class(mtcars$hp)
```

2. Change the class of horsepower to a factor
```{r}
mtcars$hp2<- as.factor(mtcars$hp)
```

3. Look at summaries of horsepower as a factor and as a number. What do you notice? 
```{r}
mtcars %>% select(hp, hp2)
```


## Learning Outcome 3: Create your own function

There are lots of functions in R that are helpful, but some times you need to make your own. I do this a lot when cleaning data.
Making a function takes the following structure: 

nameOfYourFunction<- function(types of arguments){
stuff you want function to do
}

### Making Functions with one argument

You can make a simple function that adds two to a set of numbers
Before we make the function, we'll make a vector of numbers (1-10) as our input

```{r}
#code = NameOfFunction<- function(types of argument){
#stuff you want function to do}

oneToTen<- 1:10
```

then, we'll name our function addTwo and give it one argument or input

```{r}
addTwo<- function(number){
  number+2
}
```
if we run this correctly, it should show up in the environment (top right). 

Then, we can use our function to add two to our vector:

```{r}
addTwo(7)
addTwo(oneToTen)
```

One thing to note- anything you make in a function **stays in the function.** If you want to save it to a dataframe, you treat your new function just like any other R function (i.e. you need to assign the output to a column or variable)

```{r}
"dataframe$column <- function"
onePlusTwo<- addTwo(oneToTen)
```

## Practice:
function to multiply by 7
```{r}
timesSeven<- function(number){
  number*7
}
```
test it out
```{r}
timesSeven(3)
```

**my favorite is**
`paste()`
```{r}
myFavortie<- function(thing){
  paste("My Favorite Food is", thing)
}
```
test
```{r}
myFavortie("dumplings")
```

### Multiple argument functions

We can make functions with more than one argument. For instance we could multiply all of the numbers in our original vector by a second vector 10-1

```{r}
tenToOne<- 10:1
multiplyBy<- function(number1, number2){number1*number2}
multiplyBy(oneToTen, tenToOne)
```

### Learning Outcome 3 Practice

1. Make a function that divides numbers by 100. 
```{r}
divide100<- function(number){
  number/100
}

```

2. Test your function on the mtcars mpg column.
```{r}
multiplyBy(5, mtcars$mpg)
```

3. Make a function that finds the mean of a column and divides it by the standard deviation of another column.
```{r}
colmean<- function(number1, number2){
  mean(number1)/sd(number2)
}
```

4. Test it on the mpg column and hp column. 
```{r}
colmean(mtcars$mpg, mtcars$hp)
```
```{r}
cars<- function(numer1, number2){
  sum(sqrt(number1) + mean(number2))
}

```

## Learning Outcome 4: Create your own for loop

For loops can also be helpful when programming in R (some people love 'em, some hate them). Before we jump into a example coding, let's talk about what a for loop does. 

Let's say we wanted to create a column in the chickweight dataset that indicated whether chick's were at the beginning of the experiment (in terms of days) or end. 

We'd have to make a new column
```{r}
data("ChickWeight")
summary(as.factor(ChickWeight$Time))
#beginning will be days 0,2,4
#end will be days 18,20,21
```
and then fill in that new column by indexing the days column, which has 12 different days. 
```{r}
ChickWeight$beginEnd[ChickWeight$Time==0]<- "beginning"
ChickWeight$beginEnd[ChickWeight$Time==2]<- "beginning"
ChickWeight$beginEnd[ChickWeight$Time==4]<- "beginning"
ChickWeight$beginEnd[ChickWeight$Time>16]<- "End"
```

We could use a **for loop** though to go through each row of the data set and fill out the new column (beginning or end) based on the days in the Time column.

to make a for loop: 
for(individual in 1:end of bigger group){
thing you want to happen. 
}

individual and bigger group are kind of vague- the idea is that the first part (individual) is a place holder for each of the things you want the for loop to cover. In our case, it stands for each row of the chick weight dataset. The bigger thing is the whole group you want the for loop to cover. In our case, it's **every** row in the Chick Weight dataset. 

to make our for loop closer to code:

for (i in ChickWeight){
think we want to do
}

```{r}
for (i in 1:nrow(ChickWeight)) {
  ChickWeight$beginEnd[i]<-ChickWeight$Time[i]>10
}
```

### Practice for Learning Outcome 4: 

1. Create a for loop that will multiply each number in a vector by 4. Test it with a vector containing the numbers 10:100. 
```{r}
tenToOnehundred<- 10:100
number<- NA

for (i in 1:length(tenToOnehundred)){
  number[i]<-tenToOnehundred[i]*4
}

```

2. Create a new column in the mtcars data set that indicated whether a car has good mileage (over 25 mpg) or bad mileage (25 mpg or fewer).  
```{r}
#to start, use for then (i in 1:nrow(mtcars)) -- start at 1 because it tells R to start at the first row in the dataset, use nrow to tell R to go to the last row of the dataset -- use "nrow" when you're looking at a data set, use "length" if looking at a vector or specific row --#make sure to create the the column you're interested in so that you can use it in the code. -- the [i] tells R to look at the data set row by row 
mtcars$mpgAbove25<- NA 
for (i in 1:nrow(mtcars)) {
  mtcars$mpgAbove25[i]<- mtcars$mpg [i] > 25
}
```

## Learning Outcome 5: Create your own if statements and ifelse statments

### if statements

if statements only carry out an action if a given condition is met.
It looks like this: 

if(condition){
what you want to happen 
}

Let's try one: in this case, we'll make an if statement to milage
```{r}
#if(logical statement)
mtcars$Above25<- NA
for (i in 1:nrow(mtcars)) {
  if(mtcars$mpg[i]>25){
    mtcars$Above25[i] <- "good mileage"
  }
}
```
### else statement
```{r}
mtcars$Above25<- NA
for (i in 1:nrow(mtcars)) {
  if(mtcars$mpg[i]>25){
    mtcars$Above25[i] <- "good mileage"
  }else{mtcars$Above25[i]<- "bad mileage"}
}
```

### bringing it all together
```{r}

```
### ifelse statements
R lets you combine if/else statements into a single function, ifelse(). 

`ifelse(condition, if TRUE, if FALSE)`

We can use this to accomplish the same thing we did above:
```{r}
#ifelse(condition, what happens if it's true, what happens if it's false)
mtcars$above25pt2<-ifelse(mtcars$mpg>25, "good mileage", "bad mileage")
```

### Learning Outcome 5 Practice: 

1. Make an if statement to determine if the weight of a chick on a given day is greater than 100 grams.  (i.e. is the weight in each row greater than 100 )
```{r}
ChickWeight$above100g<- NA
for (i in 1:nrow(ChickWeight)) {
  if(ChickWeight$weight[i]>100){
    ChickWeight$above100g[i]<- "yes"
    }else{ChickWeight$above100g[i]<- "no"}
}
```
for(){
  if(){
    
  }else{}
}
2. create a new column in the mtcars data set to indicate whether a car has a manual or automatic transmission. 
```{r}
mtcars$trans<- ifelse(mtcars$am==0, "automatic", "manual")
```

```{r}
library(tidyverse)
```

```{r}
penguins$studentFavorites<- NA
for (i in 1:nrow(penguins)) {
  if(penguins$island[i]=="Dream"){
    penguins$studentFavorites[i]<- "Tejiri"
  }
  if(penguins$island[i]=="Biscoe"){
    penguins$studentFavorites[i]<- "Sawywer"
  }
  if(penguins$island[i]=="Torgersen"){
    penguins$studentFavorites[i]<- "Rachael"
  }
}
```

